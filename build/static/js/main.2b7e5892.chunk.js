(this.webpackJsonpcodenames=this.webpackJsonpcodenames||[]).push([[0],{108:function(e,a,t){},109:function(e,a,t){},110:function(e,a,t){},111:function(e){e.exports=JSON.parse('{"words":[[{"word":"horseshoe","team":"red","isRevealed":false},{"word":"mother","team":"red","isRevealed":false},{"word":"drop","team":"red","isRevealed":false},{"word":"sahara","team":"red","isRevealed":false},{"word":"ski","team":"red","isRevealed":false},{"word":"church","team":"red","isRevealed":false},{"word":"map","team":"red","isRevealed":false},{"word":"file","team":"red","isRevealed":false},{"word":"glass","team":"red","isRevealed":false},{"word":"eagle","team":"blue","isRevealed":false},{"word":"racket","team":"blue","isRevealed":false},{"word":"spoon","team":"blue","isRevealed":false},{"word":"parade","team":"blue","isRevealed":false},{"word":"whale","team":"blue","isRevealed":false},{"word":"march","team":"blue","isRevealed":false},{"word":"tiger","team":"blue","isRevealed":false},{"word":"undertaker","team":"blue","isRevealed":false},{"word":"sound","team":"black","isRevealed":false},{"word":"cloak","team":"white","isRevealed":false},{"word":"mess","team":"white","isRevealed":false},{"word":"robin","team":"white","isRevealed":false},{"word":"buck","team":"white","isRevealed":false},{"word":"blues","team":"white","isRevealed":false},{"word":"mug","team":"white","isRevealed":false},{"word":"wheelchair","team":"white","isRevealed":false}]]}')},113:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(11),s=t.n(c),i=(t(91),t(66)),l=t.n(i),o=t(63),d=t(77),u=t(16),j=(t(93),t(48)),f=(t(94),t(163)),b=t(42),m=t(13),h=(t(98),t(148)),p=t(151),v=t(164),O=t(166),x=t(153),g=t(152),y=t(3);var w=function(e){return e.db,Object(y.jsxs)("div",{className:"main",children:[Object(y.jsxs)("div",{className:"col center",children:[Object(y.jsx)(h.a,{align:"center",variant:"h3",children:"Codenames"}),Object(y.jsx)(h.a,{align:"center",variant:"h6",children:"by Jason Cheung"})]}),Object(y.jsx)("div",{className:"row center",children:Object(y.jsx)(b.b,{to:"/join",style:{textDecoration:"none"},children:Object(y.jsx)(p.a,{variant:"contained",color:"primary",className:"btn",children:"Join Room"})})}),Object(y.jsx)("div",{className:"row center",children:Object(y.jsxs)(v.a,{className:"accordion",children:[Object(y.jsx)(O.a,{expandIcon:Object(y.jsx)(g.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(y.jsx)(h.a,{children:"Instructions"})}),Object(y.jsxs)(x.a,{children:[Object(y.jsx)(h.a,{children:"1. Click on the JOIN ROOM button."}),Object(y.jsx)(h.a,{children:"2. Enter your nickname and start the game."}),Object(y.jsx)(h.a,{children:"3. Connect with your friends."}),Object(y.jsx)(h.a,{children:"4. Share the room URL with your friends."}),Object(y.jsx)(h.a,{children:"5. Enjoy the game!"})]})]})})]})},R=t(15),C=(t(108),t(167));var k=function(e){var a=e.currentUser,t=e.updateCurrentUserInDB,r=Object(n.useState)(!1),c=Object(u.a)(r,2),s=c[0],i=c[1],l=Object(n.useState)(""),o=Object(u.a)(l,2),d=o[0],j=o[1];function f(){s?t(Object(R.a)(Object(R.a)({},a),{},{nickname:d})):alert("Please enter a valid nickname")}return Object(y.jsx)("div",{className:"window",children:Object(y.jsxs)("div",{className:"group-box",children:[Object(y.jsx)(h.a,{variant:"h5",align:"center",children:"Welcome to Codenames"}),Object(y.jsx)(h.a,{style:{fontSize:"15px"},align:"center",children:"To enter the room, choose a nickname."}),Object(y.jsxs)("form",{className:"form",noValidate:!0,autoComplete:"off",children:[Object(y.jsx)(C.a,{id:"filled-basic",label:"Enter Your Nickname",value:d,onChange:function(e){var a=e.target.value.trim();i(a.length>0),j(a)},variant:"filled"}),Object(y.jsx)("div",{className:"spacer"}),s?Object(y.jsx)(b.b,{to:"/game",style:{textDecoration:"none"},children:Object(y.jsx)(p.a,{variant:"contained",color:"primary",onClick:f,className:"btn",children:"Join Room"})}):Object(y.jsx)("div",{children:Object(y.jsx)(p.a,{variant:"contained",color:"primary",onClick:f,className:"btn",children:"Join Room"})})]})]})})},E=t(79),S=(t(109),t(159)),I=t(160),N=t(162),T=t(157),A=t(156),D=t(169),B=t(161),_=t(170),F=t(158),M="#F3D8B4",G="#9F3B2C",U="#BF5B4C",W="#3284A3",J="#52A4C3",L="#535252",H="#949494",P="#C7B08C",Y="#F7E0C4",z="#FFB87E",K="#ABE3EA",V="#FFE6D5",X="#C11F05",q="#0179C5",Q="#888888",Z="#FFCCCB",$="#ADD8E6",ee=t(115);var ae=function(e){var a,t,n=e.word,r=e.team,c=e.isRevealed,s=e.idx,i=e.classes,l=e.onClick,o="#fff";return c?"red"===r?(a=U,t=z):"blue"===r?(a=J,t=K):"white"===r?(a=P,t=Y):"black"===r&&(a=L,t=H):(a=M,t=Y,o="#000"),Object(y.jsx)(T.a,{item:!0,onClick:l,idx:s,children:Object(y.jsx)(ee.a,{className:i.paper,style:{background:a,border:"5px solid ".concat(t),color:o},children:n})})};t(110);var te=function(e){var a=e.nickname,t=e.team,n=e.clue,r=e.guesses;return Object(y.jsxs)("div",{className:"clue-row",style:{background:V},children:[Object(y.jsx)(h.a,{className:"nickname",style:{color:"red"===t?X:q,fontWeight:"bold"},children:a}),Object(y.jsx)(h.a,{children:"\xa0gives clue\xa0"}),Object(y.jsxs)(h.a,{className:"clue",style:{color:Q},children:[n.toUpperCase()," ","infinity"===r?Object(y.jsx)("span",{children:"\u221e"}):r]})]})},ne=Object(F.a)((function(e){return{window:{padding:"20px",height:"100vh",width:"100%"},paper:{padding:"15px 10px",textAlign:"center",border:"2px solid #D1BC9D",minWidth:"150px",cursor:"pointer",color:"#fff"},row:{width:"100%",display:"flex",flex:"1",justifyContent:"space-evenly",alignItems:"flex-start"}}}));var re=function(e){var a,t,c,s=e.users,i=e.GAME_STATE,l=e.hasWon,o=e.currentRound,d=e.currentUser,j=e.clues,f=e.isSpymasterTyping,b=e.words,m=e.redTeamRemainingCards,v=e.blueTeamRemainingCards,O=e.updateCurrentUserInDB,x=e.updateGameStateInDB,g=e.updateCurrentRoundInDB,w=e.updateIsSpymasterTypingInDB,k=e.addClueToDB,F=e.updateWordInDB,M=e.updateRedTeamRemainingCards,L=e.updateBlueTeamRemainingCards,P=e.updateClueInDB,Y=e.updateHasWonInDB,z=ne(),K=Object(n.useState)({nickname:d.nickname,team:d.team,clue:"",guesses:1}),V=Object(u.a)(K,2),X=V[0],q=V[1];function Q(){g("red"===o?"blue":"red")}function ee(e){var a=e.target.parentElement.getAttribute("idx");if(!("spymaster"===d.role||f||l||d.team!==o||b[a].isRevealed)){var t=b[a],n=j[j.length-1];if(F(Object(R.a)(Object(R.a)({},t),{},{isRevealed:!0})),"black"===t.team)return Q(),Y(!0),w(!0),void re();if("white"===t.team)return Q(),void w(!0);if(t.team===d.team?("infinity"!==n.guesses&&P(Object(R.a)(Object(R.a)({},n),{},{guesses:n.guesses-1})),"blue"===o?L(v-1):M(m-1)):("red"===o?L(v-1):M(m-1),w(!0),Q()),1===m||1===v)return Y(!0),void re();1===n.guesses&&(Q(),w(!0))}}function re(){setTimeout((function(){x(0)}),5e3)}return Object(y.jsxs)("div",{className:z.window,style:{background:"red"===o?Z:$},children:[Object(y.jsxs)("div",{className:z.row,children:[Object(y.jsx)(S.a,{style:{background:G},className:"team-card",children:Object(y.jsxs)(I.a,{children:[1===i&&Object(y.jsx)(h.a,{variant:"h4",align:"right",style:{color:"#fff"},children:m}),Object(y.jsx)(N.a,{mt:2,mb:2,children:Object(y.jsx)(h.a,{variant:"h6",align:"left",style:{color:"#fff"},children:"Operative(s)"})}),Object(y.jsx)(N.a,{mt:2,mb:2,children:s.filter((function(e){return"red"===e.team&&"operative"===e.role})).map((function(e){return Object(y.jsxs)(r.a.Fragment,{children:[Object(y.jsx)(h.a,{align:"left",style:{width:"fit-content",padding:"1px 10px",borderRadius:"15px",background:U,color:"#fff"},children:e.nickname}),Object(y.jsx)("br",{})]})}))}),0===i&&Object(y.jsx)(p.a,{variant:"contained",color:"default",onClick:function(){if("red"!==d.team||"operative"!==d.role){var e=Object(R.a)(Object(R.a)({},d),{},{team:"red",role:"operative"});O(e)}},style:{display:"red"===d.team&&"operative"===d.role?"none":"block"},children:"Join as Operative"}),Object(y.jsx)(N.a,{mt:2,mb:2,children:Object(y.jsx)(h.a,{variant:"h6",align:"left",style:{color:"#fff"},children:"Spymaster(s)"})}),Object(y.jsx)(N.a,{mt:2,mb:2,children:s.filter((function(e){return"red"===e.team&&"spymaster"===e.role})).map((function(e){return Object(y.jsxs)(r.a.Fragment,{children:[Object(y.jsx)(h.a,{align:"left",style:{width:"fit-content",padding:"1px 10px",borderRadius:"15px",background:U,color:"#fff"},children:e.nickname}),Object(y.jsx)("br",{})]})}))}),0===i&&Object(y.jsx)(p.a,{variant:"contained",color:"default",onClick:function(){if("red"!==d.team||"spymaster"!==d.role){var e=Object(R.a)(Object(R.a)({},d),{},{team:"red",role:"spymaster"});O(e)}},style:{display:"red"===d.team&&"spymaster"===d.role?"none":"block"},children:"Join as Spymaster"})]})}),1===i&&Object(y.jsx)(T.a,{container:!0,spacing:1,xs:6,item:!0,justify:"center",children:b.map((function(e,a){var t=e.word,n=e.team,r=e.isRevealed;return Object(y.jsx)(ae,{word:t,team:n,isRevealed:r||"spymaster"===d.role,idx:a,classes:z,onClick:ee})}))}),Object(y.jsx)(S.a,{style:{background:W},className:"team-card",children:Object(y.jsxs)(I.a,{children:[1===i&&Object(y.jsx)(h.a,{variant:"h4",align:"right",style:{color:"#fff"},children:v}),Object(y.jsx)(N.a,{mt:2,mb:2,children:Object(y.jsx)(h.a,{variant:"h6",align:"left",style:{color:"#fff"},children:"Operative(s)"})}),Object(y.jsx)(N.a,{mt:2,mb:2,children:s.filter((function(e){return"blue"===e.team&&"operative"===e.role})).map((function(e){return Object(y.jsxs)(r.a.Fragment,{children:[Object(y.jsx)(h.a,{align:"left",style:{width:"fit-content",padding:"1px 10px",borderRadius:"15px",background:J,color:"#fff"},children:e.nickname}),Object(y.jsx)("br",{})]})}))}),0===i&&Object(y.jsx)(p.a,{variant:"contained",color:"default",onClick:function(){if("blue"!==d.team||"operative"!==d.role){var e=Object(R.a)(Object(R.a)({},d),{},{team:"blue",role:"operative"});O(e)}},style:{display:"blue"===d.team&&"operative"===d.role?"none":"block"},children:"Join as Operative"}),Object(y.jsx)(N.a,{mt:2,mb:2,children:Object(y.jsx)(h.a,{variant:"h6",align:"left",style:{color:"#fff"},children:"Spymaster(s)"})}),Object(y.jsx)(N.a,{mt:2,mb:2,children:s.filter((function(e){return"blue"===e.team&&"spymaster"===e.role})).map((function(e){return Object(y.jsxs)(r.a.Fragment,{children:[Object(y.jsx)(h.a,{align:"left",style:{width:"fit-content",padding:"1px 10px",borderRadius:"15px",background:J,color:"#fff"},children:e.nickname}),Object(y.jsx)("br",{})]})}))}),0===i&&Object(y.jsx)(p.a,{variant:"contained",color:"default",onClick:function(){if("blue"!==d.team||"spymaster"!==d.role){var e=Object(R.a)(Object(R.a)({},d),{},{team:"blue",role:"spymaster"});O(e)}},style:{display:"blue"===d.team&&"spymaster"===d.role?"none":"block"},children:"Join as Spymaster"})]})})]}),1===i&&d.team===o&&"spymaster"===d.role&&f&&!l&&Object(y.jsx)("div",{className:z.row,style:{padding:"30px"},children:Object(y.jsxs)("form",{noValidate:!0,autoComplete:"off",children:[Object(y.jsx)(C.a,{id:"outlined-basic",label:"Type Your Clue Here",variant:"outlined",onChange:function(e){q((function(a){return Object(R.a)(Object(R.a)({},a),{},{clue:e.target.value.trim()})}))}}),"\u2003",Object(y.jsxs)(A.a,{variant:"outlined",children:[Object(y.jsx)(D.a,{id:"demo-simple-select-outlined-label",children:"Guesses"}),Object(y.jsxs)(B.a,{style:{width:"100px"},value:X.guesses,onChange:function(e){q((function(a){return Object(R.a)(Object(R.a)({},a),{},{guesses:e.target.value})}))},label:"Guesses",children:[Object(y.jsx)(_.a,{value:1,children:"1"}),Object(y.jsx)(_.a,{value:2,children:"2"}),Object(y.jsx)(_.a,{value:3,children:"3"}),Object(y.jsx)(_.a,{value:4,children:"4"}),Object(y.jsx)(_.a,{value:5,children:"5"}),Object(y.jsx)(_.a,{value:6,children:"6"}),Object(y.jsx)(_.a,{value:7,children:"7"}),Object(y.jsx)(_.a,{value:8,children:"8"}),Object(y.jsx)(_.a,{value:9,children:"9"}),Object(y.jsx)(_.a,{value:"infinity",children:"\u221e"})]})]}),"\u2003",Object(y.jsx)(p.a,{variant:"contained",align:"center",color:"primary",onClick:function(){k(X),w(!1)},children:"Give Clue"})]})}),0===i&&Object(y.jsx)("div",{className:z.row,style:{padding:"30px"},children:Object(y.jsx)(p.a,{variant:"contained",color:"default",align:"center",onClick:function(){var e,a=!1,t=!1,n=!1,r=!1,c=Object(E.a)(s);try{for(c.s();!(e=c.n()).done;){var i=e.value;"red"===i.team&&"operative"===i.role?a=!0:"red"===i.team&&"spymaster"===i.role?t=!0:"blue"===i.team&&"operative"===i.role?n=!0:"blue"===i.team&&"spymaster"===i.role&&(r=!0)}}catch(l){c.e(l)}finally{c.f()}s.length>=4&&a&&t&&n&&r?x(1):alert("Please have at least 4 players and each role fulfilled")},children:"Start Game"})}),1===i&&Object(y.jsxs)("div",{className:z.row,style:{padding:"30px",justifyContent:"center",alignItems:"center"},children:[Object(y.jsx)(h.a,{variant:"h6",align:"center",className:"clue",style:{background:"#FFF",border:"5px solid ".concat(H)},children:f?"Waiting for clue...":null===(a=j[j.length-1])||void 0===a?void 0:a.clue.toUpperCase()}),!f&&Object(y.jsx)(h.a,{variant:"h6",align:"center",className:"clue",style:{background:"#FFF",border:"5px solid ".concat(H)},children:"infinity"===(null===(t=j[j.length-1])||void 0===t?void 0:t.guesses)?Object(y.jsx)("span",{children:"\u221e"}):null===(c=j[j.length-1])||void 0===c?void 0:c.guesses}),!f&&"operative"===d.role&&d.team===o&&Object(y.jsx)(p.a,{variant:"contained",color:"primary",align:"center",onClick:function(){Q(),w(!0)},children:"End Turn"})]}),1===i&&Object(y.jsxs)("div",{className:"chat-box",children:[Object(y.jsx)(h.a,{variant:"body1",align:"center",children:"Game Log"}),Object(y.jsx)("div",{className:"chat-box-dialog",children:j.map((function(e){return Object(y.jsx)(te,{nickname:e.nickname,team:e.team,clue:e.clue,guesses:e.guesses})}))})]}),1===i&&l&&Object(y.jsx)("div",{className:z.row,children:Object(y.jsxs)(h.a,{variant:"h5",children:[o.toUpperCase()," TEAM HAS WON"]})})]})};var ce=function(){var e=Object(f.a)(),a=j.a.database(),r=Object(n.useState)(0),c=Object(u.a)(r,2),s=c[0],i=c[1],h=Object(n.useState)(!1),p=Object(u.a)(h,2),v=p[0],O=p[1],x=Object(n.useState)([]),g=Object(u.a)(x,2),R=g[0],C=g[1],E=Object(n.useState)("red"),S=Object(u.a)(E,2),I=S[0],N=S[1],T=Object(n.useState)(!0),A=Object(u.a)(T,2),D=A[0],B=A[1],_=Object(n.useState)(9),F=Object(u.a)(_,2),M=F[0],G=F[1],U=Object(n.useState)(8),W=Object(u.a)(U,2),J=W[0],L=W[1],H=Object(n.useState)({id:e,nickname:"",role:"",team:""}),P=Object(u.a)(H,2),Y=P[0],z=P[1],K=Object(n.useState)([]),V=Object(u.a)(K,2),X=V[0],q=V[1],Q=Object(n.useState)([]),Z=Object(u.a)(Q,2),$=Z[0],ee=Z[1],ae=Object(n.useState)(1),te=Object(u.a)(ae,2);function ne(){return(ne=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.ref("users").get();case 2:t=e.sent,console.log("---------------------------------"),console.log("Loaded Users"),console.log("---------------------------------"),console.log(Object.values(t.val())),q(Object.values(t.val()));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ce(e){a.ref("hasWon").set(e)}function se(e){a.ref("isSpymasterTyping").set(e)}function ie(e){a.ref("users/user-".concat(Y.id)).set(e)}function le(e){e===[]?a.ref("clues").remove():a.ref("clues/clue-".concat(e.id)).set(e)}function oe(e){a.ref("RED_TEAM_REMAINING_CARDS").set(e)}function de(e){a.ref("BLUE_TEAM_REMAINING_CARDS").set(e)}return te[0],te[1],a.goOnline(),Object(n.useEffect)((function(){!function(){ne.apply(this,arguments)}()}),[q]),Object(n.useEffect)((function(){return a.ref("users").on("child_added",(function(e){q((function(a){return[].concat(Object(o.a)(a),[e.val()])}))})),a.ref("users").on("child_removed",(function(e){q((function(t){return t.length-1<4&&a.ref("GAME_STATE").set(0),t.filter((function(a){return a.id!==e.val().id}))}))})),a.ref("users").on("child_changed",(function(e){q((function(a){return a.map((function(a){return a.id===e.val().id?e.val():a}))}))})),a.ref("GAME_STATE").on("value",(function(e){var n=parseInt(e.val());0===n&&(!function(){for(var e=t(111).words,n=Math.floor(Math.random()*e.length),r=t(112)(e[n]),c=0;c<r.length;c++)r[c].id=c,a.ref("words/word-".concat(r[c].id)).set(r[c])}(),ce(!1),se(!0),oe(9),de(8),le([])),i(n)})),a.ref("hasWon").on("value",(function(e){O(e.val())})),a.ref("isSpymasterTyping").on("value",(function(e){B(e.val())})),a.ref("currentRound").on("value",(function(e){N(e.val())})),a.ref("RED_TEAM_REMAINING_CARDS").on("value",(function(e){G(e.val())})),a.ref("BLUE_TEAM_REMAINING_CARDS").on("value",(function(e){L(e.val())})),a.ref("clues").on("child_added",(function(e){var a=e.val()||[];ee(a===[]?[]:function(a){return[].concat(Object(o.a)(a),[e.val()])})})),a.ref("clues").on("child_changed",(function(e){ee((function(a){return a.map((function(a){return a.id===e.val().id?e.val():a}))}))})),a.ref("words").on("child_added",(function(e){C((function(a){return[].concat(Object(o.a)(a),[e.val()])}))})),a.ref("words").on("child_removed",(function(e){C((function(a){return a.filter((function(a){return parseInt(a.id)!==parseInt(e.val().id)}))}))})),a.ref("words").on("child_changed",(function(e){C((function(a){return a.map((function(a){return a.id===e.val().id?e.val():a}))}))})),a.ref("users/user-".concat(Y.id)).on("value",(function(e){z(e.val())})),a.ref("users/user-".concat(Y.id)).set(Y),a.ref("users/user-".concat(Y.id)).onDisconnect().remove(),function(){a.ref("users").off(),a.ref("GAME_STATE").off(),a.ref("hasWon").off(),a.ref("isSpymasterTyping").off(),a.ref("RED_TEAM_REMAINING_CARDS").off(),a.ref("BLUE_TEAM_REMAINING_CARDS").off(),a.ref("currentRound").off(),a.ref("clues").off(),a.ref("words").off(),a.ref("users/user-".concat(Y.id)).off()}}),[q,i,B,N,ee,C,z,O]),Object(y.jsx)(b.a,{children:Object(y.jsxs)(m.c,{children:[Object(y.jsx)(m.a,{path:"/game",children:Object(y.jsx)(re,{users:X,GAME_STATE:s,hasWon:v,currentRound:I,currentUser:Y,clues:$,isSpymasterTyping:D,words:R,redTeamRemainingCards:M,blueTeamRemainingCards:J,updateCurrentUserInDB:ie,updateGameStateInDB:function(e){a.ref("GAME_STATE").set(e)},updateCurrentRoundInDB:function(e){a.ref("currentRound").set(e)},updateIsSpymasterTypingInDB:se,addClueToDB:function(e){e.id=Object(f.a)(),a.ref("clues/clue-".concat(e.id)).set(e)},updateWordInDB:function(e){a.ref("words/word-".concat(e.id)).set(e)},updateRedTeamRemainingCards:oe,updateBlueTeamRemainingCards:de,updateClueInDB:le,updateHasWonInDB:ce})}),Object(y.jsx)(m.a,{path:"/join",children:Object(y.jsx)(k,{currentUser:Y,updateCurrentUserInDB:ie})}),Object(y.jsx)(m.a,{path:"/",children:Object(y.jsx)(w,{})})]})})},se=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,172)).then((function(a){var t=a.getCLS,n=a.getFID,r=a.getFCP,c=a.getLCP,s=a.getTTFB;t(e),n(e),r(e),c(e),s(e)}))};j.a.initializeApp({apiKey:"AIzaSyBjVErKan8xlnFt_OvnwvErvk4KLTlYWXY",authDomain:"codenames-replica.firebaseapp.com",databaseURL:"https://codenames-replica-default-rtdb.firebaseio.com",projectId:"codenames-replica",storageBucket:"codenames-replica.appspot.com",messagingSenderId:"289395728473",appId:"1:289395728473:web:d8d9182563268fad5f9148"}),s.a.render(Object(y.jsx)(r.a.Fragment,{children:Object(y.jsx)(ce,{})}),document.getElementById("root")),se()},91:function(e,a,t){},93:function(e,a,t){},98:function(e,a,t){}},[[113,1,2]]]);
//# sourceMappingURL=main.2b7e5892.chunk.js.map