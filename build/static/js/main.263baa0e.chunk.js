(this.webpackJsonpcodenames=this.webpackJsonpcodenames||[]).push([[0],{108:function(e,a,s){},109:function(e,a,s){},110:function(e,a,s){},111:function(e){e.exports=JSON.parse('{"words":[[{"word":"horseshoe","team":"red","isRevealed":false,"isChosen":false},{"word":"mother","team":"red","isRevealed":false,"isChosen":false},{"word":"drop","team":"red","isRevealed":false,"isChosen":false},{"word":"sahara","team":"red","isRevealed":false,"isChosen":false},{"word":"ski","team":"red","isRevealed":false,"isChosen":false},{"word":"church","team":"red","isRevealed":false,"isChosen":false},{"word":"map","team":"red","isRevealed":false,"isChosen":false},{"word":"file","team":"red","isRevealed":false,"isChosen":false},{"word":"glass","team":"red","isRevealed":false,"isChosen":false},{"word":"eagle","team":"blue","isRevealed":false,"isChosen":false},{"word":"racket","team":"blue","isRevealed":false,"isChosen":false},{"word":"spoon","team":"blue","isRevealed":false,"isChosen":false},{"word":"parade","team":"blue","isRevealed":false,"isChosen":false},{"word":"whale","team":"blue","isRevealed":false,"isChosen":false},{"word":"march","team":"blue","isRevealed":false,"isChosen":false},{"word":"tiger","team":"blue","isRevealed":false,"isChosen":false},{"word":"undertaker","team":"blue","isRevealed":false,"isChosen":false},{"word":"sound","team":"black","isRevealed":false,"isChosen":false},{"word":"cloak","team":"white","isRevealed":false,"isChosen":false},{"word":"mess","team":"white","isRevealed":false,"isChosen":false},{"word":"robin","team":"white","isRevealed":false,"isChosen":false},{"word":"buck","team":"white","isRevealed":false,"isChosen":false},{"word":"blues","team":"white","isRevealed":false,"isChosen":false},{"word":"mug","team":"white","isRevealed":false,"isChosen":false},{"word":"wheelchair","team":"white","isRevealed":false,"isChosen":false}],[{"word":"eagle","team":"red","isRevealed":false,"isChosen":false},{"word":"genius","team":"red","isRevealed":false,"isChosen":false},{"word":"ketchup","team":"red","isRevealed":false,"isChosen":false},{"word":"car","team":"red","isRevealed":false,"isChosen":false},{"word":"boom","team":"red","isRevealed":false,"isChosen":false},{"word":"france","team":"red","isRevealed":false,"isChosen":false},{"word":"atlantis","team":"red","isRevealed":false,"isChosen":false},{"word":"lead","team":"red","isRevealed":false,"isChosen":false},{"word":"nail","team":"red","isRevealed":false,"isChosen":false},{"word":"knight","team":"blue","isRevealed":false,"isChosen":false},{"word":"track","team":"blue","isRevealed":false,"isChosen":false},{"word":"line","team":"blue","isRevealed":false,"isChosen":false},{"word":"jupiter","team":"blue","isRevealed":false,"isChosen":false},{"word":"europe","team":"blue","isRevealed":false,"isChosen":false},{"word":"heart","team":"blue","isRevealed":false,"isChosen":false},{"word":"embassy","team":"blue","isRevealed":false,"isChosen":false},{"word":"battery","team":"blue","isRevealed":false,"isChosen":false},{"word":"sock","team":"black","isRevealed":false,"isChosen":false},{"word":"tokyo","team":"white","isRevealed":false,"isChosen":false},{"word":"moon","team":"white","isRevealed":false,"isChosen":false},{"word":"bill","team":"white","isRevealed":false,"isChosen":false},{"word":"tie","team":"white","isRevealed":false,"isChosen":false},{"word":"dance","team":"white","isRevealed":false,"isChosen":false},{"word":"shadow","team":"white","isRevealed":false,"isChosen":false},{"word":"whip","team":"white","isRevealed":false,"isChosen":false}],[{"word":"shot","team":"red","isRevealed":false,"isChosen":false},{"word":"dance","team":"red","isRevealed":false,"isChosen":false},{"word":"pitch","team":"red","isRevealed":false,"isChosen":false},{"word":"crown","team":"red","isRevealed":false,"isChosen":false},{"word":"needle","team":"red","isRevealed":false,"isChosen":false},{"word":"chick","team":"red","isRevealed":false,"isChosen":false},{"word":"australia","team":"red","isRevealed":false,"isChosen":false},{"word":"deck","team":"red","isRevealed":false,"isChosen":false},{"word":"cover","team":"red","isRevealed":false,"isChosen":false},{"word":"light","team":"blue","isRevealed":false,"isChosen":false},{"word":"death","team":"blue","isRevealed":false,"isChosen":false},{"word":"fire","team":"blue","isRevealed":false,"isChosen":false},{"word":"conductor","team":"blue","isRevealed":false,"isChosen":false},{"word":"mouth","team":"blue","isRevealed":false,"isChosen":false},{"word":"check","team":"blue","isRevealed":false,"isChosen":false},{"word":"figure","team":"blue","isRevealed":false,"isChosen":false},{"word":"heart","team":"blue","isRevealed":false,"isChosen":false},{"word":"soul","team":"black","isRevealed":false,"isChosen":false},{"word":"washer","team":"white","isRevealed":false,"isChosen":false},{"word":"bow","team":"white","isRevealed":false,"isChosen":false},{"word":"fish","team":"white","isRevealed":false,"isChosen":false},{"word":"racket","team":"white","isRevealed":false,"isChosen":false},{"word":"shakespeare","team":"white","isRevealed":false,"isChosen":false},{"word":"row","team":"white","isRevealed":false,"isChosen":false},{"word":"embassy","team":"white","isRevealed":false,"isChosen":false}],[{"word":"jam","team":"red","isRevealed":false,"isChosen":false},{"word":"degree","team":"red","isRevealed":false,"isChosen":false},{"word":"cotton","team":"red","isRevealed":false,"isChosen":false},{"word":"mass","team":"red","isRevealed":false,"isChosen":false},{"word":"spider","team":"red","isRevealed":false,"isChosen":false},{"word":"model","team":"red","isRevealed":false,"isChosen":false},{"word":"eye","team":"red","isRevealed":false,"isChosen":false},{"word":"night","team":"red","isRevealed":false,"isChosen":false},{"word":"forest","team":"red","isRevealed":false,"isChosen":false},{"word":"back","team":"blue","isRevealed":false,"isChosen":false},{"word":"field","team":"blue","isRevealed":false,"isChosen":false},{"word":"ring","team":"blue","isRevealed":false,"isChosen":false},{"word":"tag","team":"blue","isRevealed":false,"isChosen":false},{"word":"rock","team":"blue","isRevealed":false,"isChosen":false},{"word":"police","team":"blue","isRevealed":false,"isChosen":false},{"word":"cap","team":"blue","isRevealed":false,"isChosen":false},{"word":"horn","team":"blue","isRevealed":false,"isChosen":false},{"word":"plane","team":"black","isRevealed":false,"isChosen":false},{"word":"princess","team":"white","isRevealed":false,"isChosen":false},{"word":"fighter","team":"white","isRevealed":false,"isChosen":false},{"word":"ghost","team":"white","isRevealed":false,"isChosen":false},{"word":"tube","team":"white","isRevealed":false,"isChosen":false},{"word":"marble","team":"white","isRevealed":false,"isChosen":false},{"word":"moscow","team":"white","isRevealed":false,"isChosen":false},{"word":"seal","team":"white","isRevealed":false,"isChosen":false}],[{"word":"mug","team":"red","isRevealed":false,"isChosen":false},{"word":"pin","team":"red","isRevealed":false,"isChosen":false},{"word":"helicopter","team":"red","isRevealed":false,"isChosen":false},{"word":"piano","team":"red","isRevealed":false,"isChosen":false},{"word":"war","team":"red","isRevealed":false,"isChosen":false},{"word":"honey","team":"red","isRevealed":false,"isChosen":false},{"word":"poison","team":"red","isRevealed":false,"isChosen":false},{"word":"horse","team":"red","isRevealed":false,"isChosen":false},{"word":"fence","team":"red","isRevealed":false,"isChosen":false},{"word":"laser","team":"blue","isRevealed":false,"isChosen":false},{"word":"bar","team":"blue","isRevealed":false,"isChosen":false},{"word":"day","team":"blue","isRevealed":false,"isChosen":false},{"word":"space","team":"blue","isRevealed":false,"isChosen":false},{"word":"cliff","team":"blue","isRevealed":false,"isChosen":false},{"word":"novel","team":"blue","isRevealed":false,"isChosen":false},{"word":"wall","team":"blue","isRevealed":false,"isChosen":false},{"word":"drill","team":"blue","isRevealed":false,"isChosen":false},{"word":"sub","team":"black","isRevealed":false,"isChosen":false},{"word":"whale","team":"white","isRevealed":false,"isChosen":false},{"word":"oil","team":"white","isRevealed":false,"isChosen":false},{"word":"thief","team":"white","isRevealed":false,"isChosen":false},{"word":"club","team":"white","isRevealed":false,"isChosen":false},{"word":"kiwi","team":"white","isRevealed":false,"isChosen":false},{"word":"beijing","team":"white","isRevealed":false,"isChosen":false},{"word":"cell","team":"white","isRevealed":false,"isChosen":false}],[{"word":"post","team":"red","isRevealed":false,"isChosen":false},{"word":"thief","team":"red","isRevealed":false,"isChosen":false},{"word":"jet","team":"red","isRevealed":false,"isChosen":false},{"word":"berry","team":"red","isRevealed":false,"isChosen":false},{"word":"back","team":"red","isRevealed":false,"isChosen":false},{"word":"tick","team":"red","isRevealed":false,"isChosen":false},{"word":"contract","team":"red","isRevealed":false,"isChosen":false},{"word":"drill","team":"red","isRevealed":false,"isChosen":false},{"word":"slug","team":"red","isRevealed":false,"isChosen":false},{"word":"soldier","team":"blue","isRevealed":false,"isChosen":false},{"word":"space","team":"blue","isRevealed":false,"isChosen":false},{"word":"star","team":"blue","isRevealed":false,"isChosen":false},{"word":"plane","team":"blue","isRevealed":false,"isChosen":false},{"word":"stick","team":"blue","isRevealed":false,"isChosen":false},{"word":"berlin","team":"blue","isRevealed":false,"isChosen":false},{"word":"water","team":"blue","isRevealed":false,"isChosen":false},{"word":"giant","team":"blue","isRevealed":false,"isChosen":false},{"word":"luck","team":"black","isRevealed":false,"isChosen":false},{"word":"genius","team":"white","isRevealed":false,"isChosen":false},{"word":"scorpion","team":"white","isRevealed":false,"isChosen":false},{"word":"lawyer","team":"white","isRevealed":false,"isChosen":false},{"word":"bell","team":"white","isRevealed":false,"isChosen":false},{"word":"spell","team":"white","isRevealed":false,"isChosen":false},{"word":"horn","team":"white","isRevealed":false,"isChosen":false},{"word":"engine","team":"white","isRevealed":false,"isChosen":false}]]}')},113:function(e,a,s){"use strict";s.r(a);var l=s(0),t=s.n(l),i=s(11),n=s.n(i),r=(s(91),s(66)),o=s.n(r),d=s(63),c=s(75),f=s(16),u=(s(93),s(48)),h=(s(94),s(161)),m=s(42),b=s(14),v=(s(98),s(147)),j=s(150),w=s(162),C=s(163),p=s(152),O=s(151),R=s(3);var x=function(e){return e.db,Object(R.jsxs)("div",{className:"main",children:[Object(R.jsxs)("div",{className:"col center",children:[Object(R.jsx)(v.a,{align:"center",variant:"h3",children:"Codenames"}),Object(R.jsx)(v.a,{align:"center",variant:"h6",children:"by Jason Cheung"})]}),Object(R.jsx)("div",{className:"row center",children:Object(R.jsx)(m.b,{to:"/join",style:{textDecoration:"none"},children:Object(R.jsx)(j.a,{variant:"contained",color:"primary",className:"btn",children:"Join Room"})})}),Object(R.jsx)("div",{className:"row center",children:Object(R.jsxs)(w.a,{className:"accordion",children:[Object(R.jsx)(C.a,{expandIcon:Object(R.jsx)(O.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(R.jsx)(v.a,{children:"Instructions"})}),Object(R.jsxs)(p.a,{children:[Object(R.jsx)(v.a,{children:"1. Click on the JOIN ROOM button."}),Object(R.jsx)(v.a,{children:"2. Enter your nickname."}),Object(R.jsx)(v.a,{children:"3. Join Game."}),Object(R.jsx)(v.a,{children:"4. Invite Friends."}),Object(R.jsx)(v.a,{children:"5. Operatives wait for Spymasters to give a clue and number of guesses to guess their team's words."}),Object(R.jsx)(v.a,{children:"6. Clicking on a Black card is an immediate loss for that team."}),Object(R.jsx)(v.a,{children:"7. Clicking on a White card wins no points and switches turns."}),Object(R.jsx)(v.a,{children:"9. Team wins game when their remaining cards to reveal is 0."})]})]})})]})},g=s(13),y=(s(108),s(164));var k=function(e){var a=e.currentUser,s=e.updateCurrentUserInDB,t=Object(l.useState)(!1),i=Object(f.a)(t,2),n=i[0],r=i[1],o=Object(l.useState)(""),d=Object(f.a)(o,2),c=d[0],u=d[1];function h(){n?s(Object(g.a)(Object(g.a)({},a),{},{nickname:c})):alert("Please enter a valid nickname")}return Object(R.jsx)("div",{className:"window",children:Object(R.jsxs)("div",{className:"group-box",children:[Object(R.jsx)(v.a,{variant:"h5",align:"center",children:"Welcome to Codenames"}),Object(R.jsx)(v.a,{style:{fontSize:"15px"},align:"center",children:"To enter the room, choose a nickname."}),Object(R.jsxs)("div",{className:"form",children:[Object(R.jsx)(y.a,{id:"filled-basic",label:"Enter Your Nickname",value:c,onChange:function(e){var a=e.target.value;r(a.trim().length>0),u(a)},variant:"filled"}),Object(R.jsx)("div",{className:"spacer"}),n?Object(R.jsx)(m.b,{to:"/game",style:{textDecoration:"none"},children:Object(R.jsx)(j.a,{variant:"contained",color:"primary",onClick:h,className:"btn",children:"Join Room"})}):Object(R.jsx)("div",{children:Object(R.jsx)(j.a,{variant:"contained",color:"primary",onClick:h,className:"btn",children:"Join Room"})})]})]})})},S=s(77),E=(s(109),s(157)),I=s(158),N=s(160),T=s(155),A=s(166),B=s(159),D=s(167),_=s(156),F="#F3D8B4",M="#9F3B2C",G="#BF5B4C",W="#3284A3",U="#52A4C3",J="#535252",L="#949494",H="#C7B08C",P="#F7E0C4",Y="#FFB87E",z="#ABE3EA",K="#FFE6D5",V="#C11F05",q="#0179C5",X="#888888",Q="#FFCCCB",Z="#ADD8E6",$=s(115);var ee=function(e){var a,s,l=e.word,t=e.team,i=e.isRevealed,n=e.isChosen,r=e.idx,o=e.onClick,d="#fff";return i?"red"===t?(a=G,s=Y):"blue"===t?(a=U,s=z):"white"===t?(a=H,s=P):"black"===t&&(a=J,s=L):(a=F,s=P,d="#000"),Object(R.jsxs)($.a,{onClick:o,idx:r,className:"word-box",style:{background:a,border:"5px solid ".concat(s),color:d},children:[l,n&&Object(R.jsx)("span",{children:"\u2713"})]})};s(110);var ae=function(e){var a=e.nickname,s=e.team,l=e.clue,t=e.guesses;return Object(R.jsxs)("div",{className:"clue-row",style:{background:K},children:[Object(R.jsx)(v.a,{className:"nickname",style:{color:"red"===s?V:q,fontWeight:"bold"},children:a}),Object(R.jsx)(v.a,{children:"\xa0gives clue\xa0"}),Object(R.jsxs)(v.a,{className:"clue",style:{color:X},children:[l.toUpperCase()," ","infinity"===t?Object(R.jsx)("span",{children:"\u221e"}):t]})]})},se=Object(_.a)((function(e){return{window:{padding:"20px",minHeight:"100vh",width:"100%"},row:{width:"100%",display:"flex",flex:"1",justifyContent:"space-evenly",alignItems:"flex-start"}}}));var le=function(e){var a,s,i,n=e.users,r=e.GAME_STATE,o=e.hasWon,d=e.currentRound,c=e.currentUser,u=e.clues,h=e.isSpymasterTyping,m=e.words,b=e.redTeamRemainingCards,w=e.blueTeamRemainingCards,C=e.updateCurrentUserInDB,p=e.updateGameStateInDB,O=e.updateCurrentRoundInDB,x=e.updateIsSpymasterTypingInDB,k=e.addClueToDB,_=e.updateWordInDB,F=e.updateRedTeamRemainingCards,J=e.updateBlueTeamRemainingCards,H=e.updateClueInDB,P=e.updateHasWonInDB,Y=e.loadWords,z=e.removeCluesInDB,K=Object(l.useState)(!1),V=Object(f.a)(K,2),q=V[0],X=(V[1],Object(l.useState)("")),$=Object(f.a)(X,2),le=$[0],te=$[1],ie=se(),ne=Object(l.useState)({nickname:c.nickname,team:c.team,clue:"",guesses:1}),re=Object(f.a)(ne,2),oe=re[0],de=re[1];function ce(){O("red"===d?"blue":"red"),x(!0)}function fe(e){var a=e.target.getAttribute("idx");if(!("operative"!==c.role||h||o||c.team!==d||m[a].isRevealed)){var s=m[a],l=u[u.length-1];if(_(Object(g.a)(Object(g.a)({},s),{},{isRevealed:!0,isChosen:!0})),"black"===s.team)return te("blue"===d?"red":"blue"),void ue();if("white"!==s.team){if(s.team===c.team?("infinity"!==l.guesses&&H(Object(g.a)(Object(g.a)({},l),{},{guesses:l.guesses-1})),"blue"===d?J(w-1):F(b-1)):("red"===d?J(w-1):F(b-1),ce()),1===b||1===w)return te("blue"===d?"blue":"red"),void ue();1===l.guesses&&ce()}else ce()}}function ue(){P(!0),x(!0),setTimeout((function(){p(0),O("red"),Y(),P(!1),x(!0),F(9),J(8),z()}),5e3)}return Object(l.useEffect)((function(){""===c.role&&1===r&&C(Object(g.a)(Object(g.a)({},c),{},{role:"spectator"}))}),C),Object(l.useEffect)((function(){var e="red"===d?Q:Z;document.body.style.background=e}),[d]),Object(R.jsxs)("div",{className:ie.window,children:[Object(R.jsxs)("div",{className:ie.row,children:[Object(R.jsx)(E.a,{style:{background:M},className:"team-card",children:Object(R.jsxs)(I.a,{children:[1===r&&Object(R.jsx)(v.a,{variant:"h4",align:"right",style:{color:"#fff"},children:b}),Object(R.jsx)(N.a,{mt:2,mb:2,children:Object(R.jsx)(v.a,{variant:"h6",align:"left",style:{color:"#fff"},children:"Operative(s)"})}),Object(R.jsx)(N.a,{mt:2,mb:2,children:n.filter((function(e){return"red"===e.team&&"operative"===e.role})).map((function(e){return Object(R.jsxs)(t.a.Fragment,{children:[Object(R.jsx)(v.a,{align:"left",style:{width:"fit-content",padding:"1px 10px",borderRadius:"15px",background:G,color:"#fff"},children:e.nickname}),Object(R.jsx)("br",{})]})}))}),0===r&&Object(R.jsx)(j.a,{variant:"contained",color:"default",onClick:function(){if("red"!==c.team||"operative"!==c.role){var e=Object(g.a)(Object(g.a)({},c),{},{team:"red",role:"operative"});C(e)}},style:{display:"red"===c.team&&"operative"===c.role?"none":"block"},children:"Join as Operative"}),Object(R.jsx)(N.a,{mt:2,mb:2,children:Object(R.jsx)(v.a,{variant:"h6",align:"left",style:{color:"#fff"},children:"Spymaster(s)"})}),Object(R.jsx)(N.a,{mt:2,mb:2,children:n.filter((function(e){return"red"===e.team&&"spymaster"===e.role})).map((function(e){return Object(R.jsxs)(t.a.Fragment,{children:[Object(R.jsx)(v.a,{align:"left",style:{width:"fit-content",padding:"1px 10px",borderRadius:"15px",background:G,color:"#fff"},children:e.nickname}),Object(R.jsx)("br",{})]})}))}),0===r&&Object(R.jsx)(j.a,{variant:"contained",color:"default",onClick:function(){if("red"!==c.team||"spymaster"!==c.role){var e=Object(g.a)(Object(g.a)({},c),{},{team:"red",role:"spymaster"});C(e)}},style:{display:"red"===c.team&&"spymaster"===c.role?"none":"block"},children:"Join as Spymaster"})]})}),1===r&&Object(R.jsx)("div",{className:"word-grid",children:m.map((function(e,a){var s=e.word,l=e.team,t=e.isRevealed,i=e.isChosen;return Object(R.jsx)(ee,{word:s,team:l,isRevealed:t||"spymaster"===c.role,isChosen:"spymaster"===c.role&&i,idx:a,onClick:fe})}))}),Object(R.jsx)(E.a,{style:{background:W},className:"team-card",children:Object(R.jsxs)(I.a,{children:[1===r&&Object(R.jsx)(v.a,{variant:"h4",align:"right",style:{color:"#fff"},children:w}),Object(R.jsx)(N.a,{mt:2,mb:2,children:Object(R.jsx)(v.a,{variant:"h6",align:"left",style:{color:"#fff"},children:"Operative(s)"})}),Object(R.jsx)(N.a,{mt:2,mb:2,children:n.filter((function(e){return"blue"===e.team&&"operative"===e.role})).map((function(e){return Object(R.jsxs)(t.a.Fragment,{children:[Object(R.jsx)(v.a,{align:"left",style:{width:"fit-content",padding:"1px 10px",borderRadius:"15px",background:U,color:"#fff"},children:e.nickname}),Object(R.jsx)("br",{})]})}))}),0===r&&Object(R.jsx)(j.a,{variant:"contained",color:"default",onClick:function(){if("blue"!==c.team||"operative"!==c.role){var e=Object(g.a)(Object(g.a)({},c),{},{team:"blue",role:"operative"});C(e)}},style:{display:"blue"===c.team&&"operative"===c.role?"none":"block"},children:"Join as Operative"}),Object(R.jsx)(N.a,{mt:2,mb:2,children:Object(R.jsx)(v.a,{variant:"h6",align:"left",style:{color:"#fff"},children:"Spymaster(s)"})}),Object(R.jsx)(N.a,{mt:2,mb:2,children:n.filter((function(e){return"blue"===e.team&&"spymaster"===e.role})).map((function(e){return Object(R.jsxs)(t.a.Fragment,{children:[Object(R.jsx)(v.a,{align:"left",style:{width:"fit-content",padding:"1px 10px",borderRadius:"15px",background:U,color:"#fff"},children:e.nickname}),Object(R.jsx)("br",{})]})}))}),0===r&&Object(R.jsx)(j.a,{variant:"contained",color:"default",onClick:function(){if("blue"!==c.team||"spymaster"!==c.role){var e=Object(g.a)(Object(g.a)({},c),{},{team:"blue",role:"spymaster"});C(e)}},style:{display:"blue"===c.team&&"spymaster"===c.role?"none":"block"},children:"Join as Spymaster"})]})})]}),1===r&&c.team===d&&"spymaster"===c.role&&h&&!o&&Object(R.jsx)("div",{className:ie.row,style:{padding:"30px"},children:Object(R.jsxs)("form",{noValidate:!0,autoComplete:"off",children:[Object(R.jsx)(y.a,{id:"outlined-basic",label:"Type Your Clue Here",variant:"outlined",onChange:function(e){de((function(a){return Object(g.a)(Object(g.a)({},a),{},{clue:e.target.value})}))}}),"\u2003",Object(R.jsxs)(T.a,{variant:"outlined",children:[Object(R.jsx)(A.a,{id:"demo-simple-select-outlined-label",children:"Guesses"}),Object(R.jsxs)(B.a,{style:{width:"100px"},value:oe.guesses,onChange:function(e){de((function(a){return Object(g.a)(Object(g.a)({},a),{},{guesses:e.target.value})}))},label:"Guesses",children:[Object(R.jsx)(D.a,{value:1,children:"1"}),Object(R.jsx)(D.a,{value:2,children:"2"}),Object(R.jsx)(D.a,{value:3,children:"3"}),Object(R.jsx)(D.a,{value:4,children:"4"}),Object(R.jsx)(D.a,{value:5,children:"5"}),Object(R.jsx)(D.a,{value:6,children:"6"}),Object(R.jsx)(D.a,{value:7,children:"7"}),Object(R.jsx)(D.a,{value:8,children:"8"}),Object(R.jsx)(D.a,{value:9,children:"9"}),Object(R.jsx)(D.a,{value:"infinity",children:"\u221e"})]})]}),"\u2003",Object(R.jsx)(j.a,{variant:"contained",align:"center",color:"primary",onClick:function(){k(Object(g.a)(Object(g.a)({},oe),{},{clue:oe.clue.trim(),team:d})),x(!1);var e=document.querySelector(".chat-box-dialog");e.scrollTop=e.clientHeight},children:"Give Clue"})]})}),0===r&&Object(R.jsx)("div",{className:ie.row,style:{padding:"30px"},children:Object(R.jsx)(j.a,{variant:"contained",color:"default",align:"center",onClick:function(){if(q)p(1);else{var e,a=!1,s=!1,l=!1,t=!1,i=Object(S.a)(n);try{for(i.s();!(e=i.n()).done;){var r=e.value;"red"===r.team&&"operative"===r.role?a=!0:"red"===r.team&&"spymaster"===r.role?s=!0:"blue"===r.team&&"operative"===r.role?l=!0:"blue"===r.team&&"spymaster"===r.role&&(t=!0)}}catch(o){i.e(o)}finally{i.f()}n.length>=4&&a&&s&&l&&t?p(1):alert("Please have at least 4 players and each role fulfilled")}},children:"Start Game"})}),1===r&&Object(R.jsxs)("div",{className:ie.row,style:{padding:"30px",justifyContent:"center",alignItems:"center",display:"".concat(h&&"spymaster"===c.role&&c.team===d?"none":"flex")},children:[Object(R.jsx)(v.a,{variant:"h6",align:"center",className:"clue",style:{background:"#FFF",border:"5px solid ".concat(L)},children:h?"Waiting for clue...":null===(a=u[u.length-1])||void 0===a?void 0:a.clue.toUpperCase()}),Object(R.jsx)("span",{children:"\u2003"}),!h&&Object(R.jsx)(v.a,{variant:"h6",align:"center",className:"clue",style:{background:"#FFF",border:"5px solid ".concat(L)},children:"infinity"===(null===(s=u[u.length-1])||void 0===s?void 0:s.guesses)?Object(R.jsx)("span",{children:"\u221e"}):null===(i=u[u.length-1])||void 0===i?void 0:i.guesses}),Object(R.jsx)("span",{children:"\u2003"}),!h&&"operative"===c.role&&c.team===d&&Object(R.jsx)(j.a,{variant:"contained",color:"primary",align:"center",onClick:function(){ce(),x(!0)},children:"End Turn"})]}),1===r&&Object(R.jsxs)("div",{className:"chat-box",children:[Object(R.jsx)(v.a,{variant:"body1",align:"center",className:"chat-title",children:"Game Log"}),Object(R.jsx)("div",{className:"chat-box-dialog",children:u.map((function(e){return Object(R.jsx)(ae,{nickname:e.nickname,team:e.team,clue:e.clue,guesses:e.guesses})}))})]}),1===r&&o&&Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)("div",{className:"winner-background"}),Object(R.jsx)("div",{className:"winner-text",children:Object(R.jsxs)(v.a,{variant:"h5",children:[le.toUpperCase()," TEAM HAS WON"]})})]})]})};var te=function(){var e=Object(h.a)(),a=u.a.database(),t=Object(l.useState)(0),i=Object(f.a)(t,2),n=i[0],r=i[1],v=Object(l.useState)(!1),j=Object(f.a)(v,2),w=j[0],C=j[1],p=Object(l.useState)([]),O=Object(f.a)(p,2),g=O[0],y=O[1],S=Object(l.useState)("red"),E=Object(f.a)(S,2),I=E[0],N=E[1],T=Object(l.useState)(!0),A=Object(f.a)(T,2),B=A[0],D=A[1],_=Object(l.useState)(9),F=Object(f.a)(_,2),M=F[0],G=F[1],W=Object(l.useState)(8),U=Object(f.a)(W,2),J=U[0],L=U[1],H=Object(l.useState)({id:e,nickname:"",role:"",team:""}),P=Object(f.a)(H,2),Y=P[0],z=P[1],K=Object(l.useState)([]),V=Object(f.a)(K,2),q=V[0],X=V[1],Q=Object(l.useState)([]),Z=Object(f.a)(Q,2),$=Z[0],ee=Z[1];function ae(){return(ae=Object(c.a)(o.a.mark((function e(){var s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.ref("users").get();case 2:s=e.sent,console.log("---------------------------------"),console.log("Loaded Users"),console.log("---------------------------------"),console.log(Object.values(s.val())),X(Object.values(s.val()));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function se(e){a.ref("users/user-".concat(Y.id)).set(e)}return a.goOnline(),Object(l.useEffect)((function(){!function(){ae.apply(this,arguments)}()}),[X]),Object(l.useEffect)((function(){return a.ref("users").on("child_added",(function(e){X((function(a){return[].concat(Object(d.a)(a),[e.val()])}))})),a.ref("users").on("child_removed",(function(e){X((function(s){return s.length-1<4&&a.ref("GAME_STATE").set(0),s.filter((function(a){return a.id!==e.val().id}))}))})),a.ref("users").on("child_changed",(function(e){X((function(a){return a.map((function(a){return a.id===e.val().id?e.val():a}))}))})),a.ref("GAME_STATE").on("value",(function(e){var a=parseInt(e.val());r(a)})),a.ref("hasWon").on("value",(function(e){C(e.val())})),a.ref("isSpymasterTyping").on("value",(function(e){D(e.val())})),a.ref("currentRound").on("value",(function(e){N(e.val())})),a.ref("RED_TEAM_REMAINING_CARDS").on("value",(function(e){G(e.val())})),a.ref("BLUE_TEAM_REMAINING_CARDS").on("value",(function(e){L(e.val())})),a.ref("clues").on("child_added",(function(e){ee((function(a){return[].concat(Object(d.a)(a),[e.val()])}))})),a.ref("clues").on("child_removed",(function(e){ee([])})),a.ref("clues").on("child_changed",(function(e){ee((function(a){return a.map((function(a){return a.id===e.val().id?e.val():a}))}))})),a.ref("words").on("child_added",(function(e){g.length<25&&y((function(a){return[].concat(Object(d.a)(a),[e.val()])}))})),a.ref("words").on("child_removed",(function(e){y((function(a){return a.filter((function(a){return parseInt(a.id)!==parseInt(e.val().id)}))}))})),a.ref("words").on("child_changed",(function(e){y((function(a){return a.map((function(a){return a.id===e.val().id?e.val():a}))}))})),a.ref("users/user-".concat(Y.id)).on("value",(function(e){z(e.val())})),a.ref("users/user-".concat(Y.id)).set(Y),a.ref("users/user-".concat(Y.id)).onDisconnect().remove(),function(){a.ref("users").off(),a.ref("GAME_STATE").off(),a.ref("hasWon").off(),a.ref("isSpymasterTyping").off(),a.ref("RED_TEAM_REMAINING_CARDS").off(),a.ref("BLUE_TEAM_REMAINING_CARDS").off(),a.ref("currentRound").off(),a.ref("clues").off(),a.ref("words").off(),a.ref("users/user-".concat(Y.id)).off()}}),[X,r,D,N,ee,y,z,C]),Object(R.jsx)(m.a,{children:Object(R.jsxs)(b.c,{children:[Object(R.jsx)(b.a,{path:"/game",children:Object(R.jsx)(le,{users:q,GAME_STATE:n,hasWon:w,currentRound:I,currentUser:Y,clues:$,isSpymasterTyping:B,words:g,redTeamRemainingCards:M,blueTeamRemainingCards:J,updateCurrentUserInDB:se,updateGameStateInDB:function(e){a.ref("GAME_STATE").set(e)},updateCurrentRoundInDB:function(e){a.ref("currentRound").set(e)},updateIsSpymasterTypingInDB:function(e){a.ref("isSpymasterTyping").set(e)},addClueToDB:function(e){e.id=Object(h.a)(),a.ref("clues/clue-".concat(e.id)).set(e)},updateWordInDB:function(e){a.ref("words/word-".concat(e.id)).set(e)},updateRedTeamRemainingCards:function(e){a.ref("RED_TEAM_REMAINING_CARDS").set(e)},updateBlueTeamRemainingCards:function(e){a.ref("BLUE_TEAM_REMAINING_CARDS").set(e)},updateClueInDB:function(e){a.ref("clues/clue-".concat(e.id)).set(e)},updateHasWonInDB:function(e){a.ref("hasWon").set(e)},loadWords:function(){for(var e=s(111).words,l=Math.floor(Math.random()*e.length),t=s(112)(e[l]),i=0;i<t.length;i++)t[i].id=i,a.ref("words/word-".concat(t[i].id)).set(t[i])},removeCluesInDB:function(){a.ref("clues").remove()}})}),Object(R.jsx)(b.a,{path:"/join",children:Object(R.jsx)(k,{currentUser:Y,updateCurrentUserInDB:se})}),Object(R.jsx)(b.a,{path:"/",children:Object(R.jsx)(x,{})})]})})},ie=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,170)).then((function(a){var s=a.getCLS,l=a.getFID,t=a.getFCP,i=a.getLCP,n=a.getTTFB;s(e),l(e),t(e),i(e),n(e)}))};u.a.initializeApp({apiKey:"AIzaSyBjVErKan8xlnFt_OvnwvErvk4KLTlYWXY",authDomain:"codenames-replica.firebaseapp.com",databaseURL:"https://codenames-replica-default-rtdb.firebaseio.com",projectId:"codenames-replica",storageBucket:"codenames-replica.appspot.com",messagingSenderId:"289395728473",appId:"1:289395728473:web:d8d9182563268fad5f9148"}),n.a.render(Object(R.jsx)(t.a.Fragment,{children:Object(R.jsx)(te,{})}),document.getElementById("root")),ie()},91:function(e,a,s){},93:function(e,a,s){},98:function(e,a,s){}},[[113,1,2]]]);
//# sourceMappingURL=main.263baa0e.chunk.js.map