(this.webpackJsonpcodenames=this.webpackJsonpcodenames||[]).push([[0],{108:function(e,a,t){},109:function(e,a,t){},110:function(e,a,t){},111:function(e){e.exports=JSON.parse('{"words":[[{"word":"horseshoe","team":"red","isRevealed":false},{"word":"mother","team":"red","isRevealed":false},{"word":"drop","team":"red","isRevealed":false},{"word":"sahara","team":"red","isRevealed":false},{"word":"ski","team":"red","isRevealed":false},{"word":"church","team":"red","isRevealed":false},{"word":"map","team":"red","isRevealed":false},{"word":"file","team":"red","isRevealed":false},{"word":"glass","team":"red","isRevealed":false},{"word":"eagle","team":"blue","isRevealed":false},{"word":"racket","team":"blue","isRevealed":false},{"word":"spoon","team":"blue","isRevealed":false},{"word":"parade","team":"blue","isRevealed":false},{"word":"whale","team":"blue","isRevealed":false},{"word":"march","team":"blue","isRevealed":false},{"word":"tiger","team":"blue","isRevealed":false},{"word":"undertaker","team":"blue","isRevealed":false},{"word":"sound","team":"black","isRevealed":false},{"word":"cloak","team":"white","isRevealed":false},{"word":"mess","team":"white","isRevealed":false},{"word":"robin","team":"white","isRevealed":false},{"word":"buck","team":"white","isRevealed":false},{"word":"blues","team":"white","isRevealed":false},{"word":"mug","team":"white","isRevealed":false},{"word":"wheelchair","team":"white","isRevealed":false}],[{"word":"eagle","team":"red","isRevealed":false},{"word":"genius","team":"red","isRevealed":false},{"word":"ketchup","team":"red","isRevealed":false},{"word":"car","team":"red","isRevealed":false},{"word":"boom","team":"red","isRevealed":false},{"word":"france","team":"red","isRevealed":false},{"word":"atlantis","team":"red","isRevealed":false},{"word":"lead","team":"red","isRevealed":false},{"word":"nail","team":"red","isRevealed":false},{"word":"knight","team":"blue","isRevealed":false},{"word":"track","team":"blue","isRevealed":false},{"word":"line","team":"blue","isRevealed":false},{"word":"jupiter","team":"blue","isRevealed":false},{"word":"europe","team":"blue","isRevealed":false},{"word":"heart","team":"blue","isRevealed":false},{"word":"embassy","team":"blue","isRevealed":false},{"word":"battery","team":"blue","isRevealed":false},{"word":"sock","team":"black","isRevealed":false},{"word":"tokyo","team":"white","isRevealed":false},{"word":"moon","team":"white","isRevealed":false},{"word":"bill","team":"white","isRevealed":false},{"word":"tie","team":"white","isRevealed":false},{"word":"dance","team":"white","isRevealed":false},{"word":"shadow","team":"white","isRevealed":false},{"word":"whip","team":"white","isRevealed":false}],[{"word":"shot","team":"red","isRevealed":false},{"word":"dance","team":"red","isRevealed":false},{"word":"pitch","team":"red","isRevealed":false},{"word":"crown","team":"red","isRevealed":false},{"word":"needle","team":"red","isRevealed":false},{"word":"chick","team":"red","isRevealed":false},{"word":"australia","team":"red","isRevealed":false},{"word":"deck","team":"red","isRevealed":false},{"word":"cover","team":"red","isRevealed":false},{"word":"light","team":"blue","isRevealed":false},{"word":"death","team":"blue","isRevealed":false},{"word":"fire","team":"blue","isRevealed":false},{"word":"conductor","team":"blue","isRevealed":false},{"word":"mouth","team":"blue","isRevealed":false},{"word":"check","team":"blue","isRevealed":false},{"word":"figure","team":"blue","isRevealed":false},{"word":"heart","team":"blue","isRevealed":false},{"word":"soul","team":"black","isRevealed":false},{"word":"washer","team":"white","isRevealed":false},{"word":"bow","team":"white","isRevealed":false},{"word":"fish","team":"white","isRevealed":false},{"word":"racket","team":"white","isRevealed":false},{"word":"shakespeare","team":"white","isRevealed":false},{"word":"row","team":"white","isRevealed":false},{"word":"embassy","team":"white","isRevealed":false}],[{"word":"jam","team":"red","isRevealed":false},{"word":"degree","team":"red","isRevealed":false},{"word":"cotton","team":"red","isRevealed":false},{"word":"mass","team":"red","isRevealed":false},{"word":"spider","team":"red","isRevealed":false},{"word":"model","team":"red","isRevealed":false},{"word":"eye","team":"red","isRevealed":false},{"word":"night","team":"red","isRevealed":false},{"word":"forest","team":"red","isRevealed":false},{"word":"back","team":"blue","isRevealed":false},{"word":"field","team":"blue","isRevealed":false},{"word":"ring","team":"blue","isRevealed":false},{"word":"tag","team":"blue","isRevealed":false},{"word":"rock","team":"blue","isRevealed":false},{"word":"police","team":"blue","isRevealed":false},{"word":"cap","team":"blue","isRevealed":false},{"word":"horn","team":"blue","isRevealed":false},{"word":"plane","team":"black","isRevealed":false},{"word":"princess","team":"white","isRevealed":false},{"word":"fighter","team":"white","isRevealed":false},{"word":"ghost","team":"white","isRevealed":false},{"word":"tube","team":"white","isRevealed":false},{"word":"marble","team":"white","isRevealed":false},{"word":"moscow","team":"white","isRevealed":false},{"word":"seal","team":"white","isRevealed":false}],[{"word":"mug","team":"red","isRevealed":false},{"word":"pin","team":"red","isRevealed":false},{"word":"helicopter","team":"red","isRevealed":false},{"word":"piano","team":"red","isRevealed":false},{"word":"war","team":"red","isRevealed":false},{"word":"honey","team":"red","isRevealed":false},{"word":"poison","team":"red","isRevealed":false},{"word":"horse","team":"red","isRevealed":false},{"word":"fence","team":"red","isRevealed":false},{"word":"laser","team":"blue","isRevealed":false},{"word":"bar","team":"blue","isRevealed":false},{"word":"day","team":"blue","isRevealed":false},{"word":"space","team":"blue","isRevealed":false},{"word":"cliff","team":"blue","isRevealed":false},{"word":"novel","team":"blue","isRevealed":false},{"word":"wall","team":"blue","isRevealed":false},{"word":"drill","team":"blue","isRevealed":false},{"word":"sub","team":"black","isRevealed":false},{"word":"whale","team":"white","isRevealed":false},{"word":"oil","team":"white","isRevealed":false},{"word":"thief","team":"white","isRevealed":false},{"word":"club","team":"white","isRevealed":false},{"word":"kiwi","team":"white","isRevealed":false},{"word":"beijing","team":"white","isRevealed":false},{"word":"cell","team":"white","isRevealed":false}],[{"word":"post","team":"red","isRevealed":false},{"word":"thief","team":"red","isRevealed":false},{"word":"jet","team":"red","isRevealed":false},{"word":"berry","team":"red","isRevealed":false},{"word":"back","team":"red","isRevealed":false},{"word":"tick","team":"red","isRevealed":false},{"word":"contract","team":"red","isRevealed":false},{"word":"drill","team":"red","isRevealed":false},{"word":"slug","team":"red","isRevealed":false},{"word":"soldier","team":"blue","isRevealed":false},{"word":"space","team":"blue","isRevealed":false},{"word":"star","team":"blue","isRevealed":false},{"word":"plane","team":"blue","isRevealed":false},{"word":"stick","team":"blue","isRevealed":false},{"word":"berlin","team":"blue","isRevealed":false},{"word":"water","team":"blue","isRevealed":false},{"word":"giant","team":"blue","isRevealed":false},{"word":"luck","team":"black","isRevealed":false},{"word":"genius","team":"white","isRevealed":false},{"word":"scorpion","team":"white","isRevealed":false},{"word":"lawyer","team":"white","isRevealed":false},{"word":"bell","team":"white","isRevealed":false},{"word":"spell","team":"white","isRevealed":false},{"word":"horn","team":"white","isRevealed":false},{"word":"engine","team":"white","isRevealed":false}]]}')},113:function(e,a,t){"use strict";t.r(a);var r=t(0),l=t.n(r),s=t(11),i=t.n(s),n=(t(91),t(66)),d=t.n(n),c=t(63),o=t(77),f=t(16),u=(t(93),t(48)),m=(t(94),t(163)),b=t(42),v=t(14),j=(t(98),t(148)),h=t(151),w=t(164),p=t(166),R=t(153),O=t(152),x=t(3);var g=function(e){return e.db,Object(x.jsxs)("div",{className:"main",children:[Object(x.jsxs)("div",{className:"col center",children:[Object(x.jsx)(j.a,{align:"center",variant:"h3",children:"Codenames"}),Object(x.jsx)(j.a,{align:"center",variant:"h6",children:"by Jason Cheung"})]}),Object(x.jsx)("div",{className:"row center",children:Object(x.jsx)(b.b,{to:"/join",style:{textDecoration:"none"},children:Object(x.jsx)(h.a,{variant:"contained",color:"primary",className:"btn",children:"Join Room"})})}),Object(x.jsx)("div",{className:"row center",children:Object(x.jsxs)(w.a,{className:"accordion",children:[Object(x.jsx)(p.a,{expandIcon:Object(x.jsx)(O.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(x.jsx)(j.a,{children:"Instructions"})}),Object(x.jsxs)(R.a,{children:[Object(x.jsx)(j.a,{children:"1. Click on the JOIN ROOM button."}),Object(x.jsx)(j.a,{children:"2. Enter your nickname and start the game."}),Object(x.jsx)(j.a,{children:"3. Connect with your friends."}),Object(x.jsx)(j.a,{children:"4. Share the room URL with your friends."}),Object(x.jsx)(j.a,{children:"5. Enjoy the game!"})]})]})})]})},y=t(13),k=(t(108),t(167));var C=function(e){var a=e.currentUser,t=e.updateCurrentUserInDB,l=Object(r.useState)(!1),s=Object(f.a)(l,2),i=s[0],n=s[1],d=Object(r.useState)(""),c=Object(f.a)(d,2),o=c[0],u=c[1];function m(){i?t(Object(y.a)(Object(y.a)({},a),{},{nickname:o})):alert("Please enter a valid nickname")}return Object(x.jsx)("div",{className:"window",children:Object(x.jsxs)("div",{className:"group-box",children:[Object(x.jsx)(j.a,{variant:"h5",align:"center",children:"Welcome to Codenames"}),Object(x.jsx)(j.a,{style:{fontSize:"15px"},align:"center",children:"To enter the room, choose a nickname."}),Object(x.jsxs)("form",{className:"form",noValidate:!0,autoComplete:"off",children:[Object(x.jsx)(k.a,{id:"filled-basic",label:"Enter Your Nickname",value:o,onChange:function(e){var a=e.target.value.trim();n(a.length>0),u(a)},variant:"filled"}),Object(x.jsx)("div",{className:"spacer"}),i?Object(x.jsx)(b.b,{to:"/game",style:{textDecoration:"none"},children:Object(x.jsx)(h.a,{variant:"contained",color:"primary",onClick:m,className:"btn",children:"Join Room"})}):Object(x.jsx)("div",{children:Object(x.jsx)(h.a,{variant:"contained",color:"primary",onClick:m,className:"btn",children:"Join Room"})})]})]})})},E=t(79),S=(t(109),t(159)),I=t(160),N=t(162),T=t(157),A=t(156),D=t(169),B=t(161),_=t(170),F=t(158),M="#F3D8B4",G="#9F3B2C",U="#BF5B4C",W="#3284A3",J="#52A4C3",L="#535252",H="#949494",P="#C7B08C",Y="#F7E0C4",z="#FFB87E",K="#ABE3EA",V="#FFE6D5",X="#C11F05",q="#0179C5",Q="#888888",Z="#FFCCCB",$="#ADD8E6",ee=t(115);var ae=function(e){var a,t,r=e.word,l=e.team,s=e.isRevealed,i=e.idx,n=e.classes,d=e.onClick,c="#fff";return s?"red"===l?(a=U,t=z):"blue"===l?(a=J,t=K):"white"===l?(a=P,t=Y):"black"===l&&(a=L,t=H):(a=M,t=Y,c="#000"),Object(x.jsx)(T.a,{item:!0,onClick:d,idx:i,children:Object(x.jsx)(ee.a,{className:n.paper,style:{background:a,border:"5px solid ".concat(t),color:c},children:r})})};t(110);var te=function(e){var a=e.nickname,t=e.team,r=e.clue,l=e.guesses;return Object(x.jsxs)("div",{className:"clue-row",style:{background:V},children:[Object(x.jsx)(j.a,{className:"nickname",style:{color:"red"===t?X:q,fontWeight:"bold"},children:a}),Object(x.jsx)(j.a,{children:"\xa0gives clue\xa0"}),Object(x.jsxs)(j.a,{className:"clue",style:{color:Q},children:[r.toUpperCase()," ","infinity"===l?Object(x.jsx)("span",{children:"\u221e"}):l]})]})},re=Object(F.a)((function(e){return{window:{padding:"20px",height:"100vh",width:"100%"},paper:{padding:"15px 10px",textAlign:"center",border:"2px solid #D1BC9D",minWidth:"150px",cursor:"pointer",color:"#fff"},row:{width:"100%",display:"flex",flex:"1",justifyContent:"space-evenly",alignItems:"flex-start"}}}));var le=function(e){var a,t,s,i=e.users,n=e.GAME_STATE,d=e.hasWon,c=e.currentRound,o=e.currentUser,u=e.clues,m=e.isSpymasterTyping,b=e.words,v=e.redTeamRemainingCards,w=e.blueTeamRemainingCards,p=e.updateCurrentUserInDB,R=e.updateGameStateInDB,O=e.updateCurrentRoundInDB,g=e.updateIsSpymasterTypingInDB,C=e.addClueToDB,F=e.updateWordInDB,M=e.updateRedTeamRemainingCards,L=e.updateBlueTeamRemainingCards,P=e.updateClueInDB,Y=e.updateHasWonInDB,z=re(),K=Object(r.useState)({nickname:o.nickname,team:o.team,clue:"",guesses:1}),V=Object(f.a)(K,2),X=V[0],q=V[1];function Q(){O("red"===c?"blue":"red")}function ee(e){var a=e.target.parentElement.getAttribute("idx");if(!("operative"!==o.role||m||d||o.team!==c||b[a].isRevealed)){var t=b[a],r=u[u.length-1];if(F(Object(y.a)(Object(y.a)({},t),{},{isRevealed:!0})),"black"===t.team)return Q(),Y(!0),g(!0),void le();if("white"===t.team)return Q(),void g(!0);if(t.team===o.team?("infinity"!==r.guesses&&P(Object(y.a)(Object(y.a)({},r),{},{guesses:r.guesses-1})),"blue"===c?L(w-1):M(v-1)):("red"===c?L(w-1):M(v-1),g(!0),Q()),1===v||1===w)return Y(!0),void le();1===r.guesses&&(Q(),g(!0))}}function le(){setTimeout((function(){R(0)}),5e3)}return Object(r.useEffect)((function(){""===o.role&&1===n&&p(Object(y.a)(Object(y.a)({},o),{},{role:"spectator"}))}),p),Object(x.jsxs)("div",{className:z.window,style:{background:"red"===c?Z:$},children:[Object(x.jsxs)("div",{className:z.row,children:[Object(x.jsx)(S.a,{style:{background:G},className:"team-card",children:Object(x.jsxs)(I.a,{children:[1===n&&Object(x.jsx)(j.a,{variant:"h4",align:"right",style:{color:"#fff"},children:v}),Object(x.jsx)(N.a,{mt:2,mb:2,children:Object(x.jsx)(j.a,{variant:"h6",align:"left",style:{color:"#fff"},children:"Operative(s)"})}),Object(x.jsx)(N.a,{mt:2,mb:2,children:i.filter((function(e){return"red"===e.team&&"operative"===e.role})).map((function(e){return Object(x.jsxs)(l.a.Fragment,{children:[Object(x.jsx)(j.a,{align:"left",style:{width:"fit-content",padding:"1px 10px",borderRadius:"15px",background:U,color:"#fff"},children:e.nickname}),Object(x.jsx)("br",{})]})}))}),0===n&&Object(x.jsx)(h.a,{variant:"contained",color:"default",onClick:function(){if("red"!==o.team||"operative"!==o.role){var e=Object(y.a)(Object(y.a)({},o),{},{team:"red",role:"operative"});p(e)}},style:{display:"red"===o.team&&"operative"===o.role?"none":"block"},children:"Join as Operative"}),Object(x.jsx)(N.a,{mt:2,mb:2,children:Object(x.jsx)(j.a,{variant:"h6",align:"left",style:{color:"#fff"},children:"Spymaster(s)"})}),Object(x.jsx)(N.a,{mt:2,mb:2,children:i.filter((function(e){return"red"===e.team&&"spymaster"===e.role})).map((function(e){return Object(x.jsxs)(l.a.Fragment,{children:[Object(x.jsx)(j.a,{align:"left",style:{width:"fit-content",padding:"1px 10px",borderRadius:"15px",background:U,color:"#fff"},children:e.nickname}),Object(x.jsx)("br",{})]})}))}),0===n&&Object(x.jsx)(h.a,{variant:"contained",color:"default",onClick:function(){if("red"!==o.team||"spymaster"!==o.role){var e=Object(y.a)(Object(y.a)({},o),{},{team:"red",role:"spymaster"});p(e)}},style:{display:"red"===o.team&&"spymaster"===o.role?"none":"block"},children:"Join as Spymaster"})]})}),1===n&&Object(x.jsx)(T.a,{container:!0,spacing:1,xs:6,item:!0,justify:"center",children:b.map((function(e,a){var t=e.word,r=e.team,l=e.isRevealed;return Object(x.jsx)(ae,{word:t,team:r,isRevealed:l||"spymaster"===o.role,idx:a,classes:z,onClick:ee})}))}),Object(x.jsx)(S.a,{style:{background:W},className:"team-card",children:Object(x.jsxs)(I.a,{children:[1===n&&Object(x.jsx)(j.a,{variant:"h4",align:"right",style:{color:"#fff"},children:w}),Object(x.jsx)(N.a,{mt:2,mb:2,children:Object(x.jsx)(j.a,{variant:"h6",align:"left",style:{color:"#fff"},children:"Operative(s)"})}),Object(x.jsx)(N.a,{mt:2,mb:2,children:i.filter((function(e){return"blue"===e.team&&"operative"===e.role})).map((function(e){return Object(x.jsxs)(l.a.Fragment,{children:[Object(x.jsx)(j.a,{align:"left",style:{width:"fit-content",padding:"1px 10px",borderRadius:"15px",background:J,color:"#fff"},children:e.nickname}),Object(x.jsx)("br",{})]})}))}),0===n&&Object(x.jsx)(h.a,{variant:"contained",color:"default",onClick:function(){if("blue"!==o.team||"operative"!==o.role){var e=Object(y.a)(Object(y.a)({},o),{},{team:"blue",role:"operative"});p(e)}},style:{display:"blue"===o.team&&"operative"===o.role?"none":"block"},children:"Join as Operative"}),Object(x.jsx)(N.a,{mt:2,mb:2,children:Object(x.jsx)(j.a,{variant:"h6",align:"left",style:{color:"#fff"},children:"Spymaster(s)"})}),Object(x.jsx)(N.a,{mt:2,mb:2,children:i.filter((function(e){return"blue"===e.team&&"spymaster"===e.role})).map((function(e){return Object(x.jsxs)(l.a.Fragment,{children:[Object(x.jsx)(j.a,{align:"left",style:{width:"fit-content",padding:"1px 10px",borderRadius:"15px",background:J,color:"#fff"},children:e.nickname}),Object(x.jsx)("br",{})]})}))}),0===n&&Object(x.jsx)(h.a,{variant:"contained",color:"default",onClick:function(){if("blue"!==o.team||"spymaster"!==o.role){var e=Object(y.a)(Object(y.a)({},o),{},{team:"blue",role:"spymaster"});p(e)}},style:{display:"blue"===o.team&&"spymaster"===o.role?"none":"block"},children:"Join as Spymaster"})]})})]}),1===n&&o.team===c&&"spymaster"===o.role&&m&&!d&&Object(x.jsx)("div",{className:z.row,style:{padding:"30px"},children:Object(x.jsxs)("form",{noValidate:!0,autoComplete:"off",children:[Object(x.jsx)(k.a,{id:"outlined-basic",label:"Type Your Clue Here",variant:"outlined",onChange:function(e){q((function(a){return Object(y.a)(Object(y.a)({},a),{},{clue:e.target.value.trim()})}))}}),"\u2003",Object(x.jsxs)(A.a,{variant:"outlined",children:[Object(x.jsx)(D.a,{id:"demo-simple-select-outlined-label",children:"Guesses"}),Object(x.jsxs)(B.a,{style:{width:"100px"},value:X.guesses,onChange:function(e){q((function(a){return Object(y.a)(Object(y.a)({},a),{},{guesses:e.target.value})}))},label:"Guesses",children:[Object(x.jsx)(_.a,{value:1,children:"1"}),Object(x.jsx)(_.a,{value:2,children:"2"}),Object(x.jsx)(_.a,{value:3,children:"3"}),Object(x.jsx)(_.a,{value:4,children:"4"}),Object(x.jsx)(_.a,{value:5,children:"5"}),Object(x.jsx)(_.a,{value:6,children:"6"}),Object(x.jsx)(_.a,{value:7,children:"7"}),Object(x.jsx)(_.a,{value:8,children:"8"}),Object(x.jsx)(_.a,{value:9,children:"9"}),Object(x.jsx)(_.a,{value:"infinity",children:"\u221e"})]})]}),"\u2003",Object(x.jsx)(h.a,{variant:"contained",align:"center",color:"primary",onClick:function(){C(X),g(!1)},children:"Give Clue"})]})}),0===n&&Object(x.jsx)("div",{className:z.row,style:{padding:"30px"},children:Object(x.jsx)(h.a,{variant:"contained",color:"default",align:"center",onClick:function(){var e,a=!1,t=!1,r=!1,l=!1,s=Object(E.a)(i);try{for(s.s();!(e=s.n()).done;){var n=e.value;"red"===n.team&&"operative"===n.role?a=!0:"red"===n.team&&"spymaster"===n.role?t=!0:"blue"===n.team&&"operative"===n.role?r=!0:"blue"===n.team&&"spymaster"===n.role&&(l=!0)}}catch(d){s.e(d)}finally{s.f()}i.length>=4&&a&&t&&r&&l?R(1):alert("Please have at least 4 players and each role fulfilled")},children:"Start Game"})}),1===n&&Object(x.jsxs)("div",{className:z.row,style:{padding:"30px",justifyContent:"center",alignItems:"center"},children:[Object(x.jsx)(j.a,{variant:"h6",align:"center",className:"clue",style:{background:"#FFF",border:"5px solid ".concat(H)},children:m?"Waiting for clue...":null===(a=u[u.length-1])||void 0===a?void 0:a.clue.toUpperCase()}),!m&&Object(x.jsx)(j.a,{variant:"h6",align:"center",className:"clue",style:{background:"#FFF",border:"5px solid ".concat(H)},children:"infinity"===(null===(t=u[u.length-1])||void 0===t?void 0:t.guesses)?Object(x.jsx)("span",{children:"\u221e"}):null===(s=u[u.length-1])||void 0===s?void 0:s.guesses}),!m&&"operative"===o.role&&o.team===c&&Object(x.jsx)(h.a,{variant:"contained",color:"primary",align:"center",onClick:function(){Q(),g(!0)},children:"End Turn"})]}),1===n&&Object(x.jsxs)("div",{className:"chat-box",children:[Object(x.jsx)(j.a,{variant:"body1",align:"center",children:"Game Log"}),Object(x.jsx)("div",{className:"chat-box-dialog",children:u.map((function(e){return Object(x.jsx)(te,{nickname:e.nickname,team:e.team,clue:e.clue,guesses:e.guesses})}))})]}),1===n&&d&&Object(x.jsx)("div",{className:z.row,children:Object(x.jsxs)(j.a,{variant:"h5",children:[c.toUpperCase()," TEAM HAS WON"]})})]})};var se=function(){var e=Object(m.a)(),a=u.a.database(),l=Object(r.useState)(0),s=Object(f.a)(l,2),i=s[0],n=s[1],j=Object(r.useState)(!1),h=Object(f.a)(j,2),w=h[0],p=h[1],R=Object(r.useState)([]),O=Object(f.a)(R,2),y=O[0],k=O[1],E=Object(r.useState)("red"),S=Object(f.a)(E,2),I=S[0],N=S[1],T=Object(r.useState)(!0),A=Object(f.a)(T,2),D=A[0],B=A[1],_=Object(r.useState)(9),F=Object(f.a)(_,2),M=F[0],G=F[1],U=Object(r.useState)(8),W=Object(f.a)(U,2),J=W[0],L=W[1],H=Object(r.useState)({id:e,nickname:"",role:"",team:""}),P=Object(f.a)(H,2),Y=P[0],z=P[1],K=Object(r.useState)([]),V=Object(f.a)(K,2),X=V[0],q=V[1],Q=Object(r.useState)([]),Z=Object(f.a)(Q,2),$=Z[0],ee=Z[1],ae=Object(r.useState)(1),te=Object(f.a)(ae,2);function re(){return(re=Object(o.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.ref("users").get();case 2:t=e.sent,console.log("---------------------------------"),console.log("Loaded Users"),console.log("---------------------------------"),console.log(Object.values(t.val())),q(Object.values(t.val()));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function se(e){a.ref("hasWon").set(e)}function ie(e){a.ref("isSpymasterTyping").set(e)}function ne(e){a.ref("users/user-".concat(Y.id)).set(e)}function de(e){e===[]?a.ref("clues").remove():a.ref("clues/clue-".concat(e.id)).set(e)}function ce(e){a.ref("RED_TEAM_REMAINING_CARDS").set(e)}function oe(e){a.ref("BLUE_TEAM_REMAINING_CARDS").set(e)}return te[0],te[1],a.goOnline(),Object(r.useEffect)((function(){!function(){re.apply(this,arguments)}()}),[q]),Object(r.useEffect)((function(){return a.ref("users").on("child_added",(function(e){q((function(a){return[].concat(Object(c.a)(a),[e.val()])}))})),a.ref("users").on("child_removed",(function(e){q((function(t){return t.length-1<4&&a.ref("GAME_STATE").set(0),t.filter((function(a){return a.id!==e.val().id}))}))})),a.ref("users").on("child_changed",(function(e){q((function(a){return a.map((function(a){return a.id===e.val().id?e.val():a}))}))})),a.ref("GAME_STATE").on("value",(function(e){var r=parseInt(e.val());0===r&&(!function(){for(var e=t(111).words,r=Math.floor(Math.random()*e.length),l=t(112)(e[r]),s=0;s<l.length;s++)l[s].id=s,a.ref("words/word-".concat(l[s].id)).set(l[s])}(),se(!1),ie(!0),ce(9),oe(8),de([])),n(r)})),a.ref("hasWon").on("value",(function(e){p(e.val())})),a.ref("isSpymasterTyping").on("value",(function(e){B(e.val())})),a.ref("currentRound").on("value",(function(e){N(e.val())})),a.ref("RED_TEAM_REMAINING_CARDS").on("value",(function(e){G(e.val())})),a.ref("BLUE_TEAM_REMAINING_CARDS").on("value",(function(e){L(e.val())})),a.ref("clues").on("child_added",(function(e){var a=e.val()||[];ee(a===[]?[]:function(a){return[].concat(Object(c.a)(a),[e.val()])})})),a.ref("clues").on("child_changed",(function(e){ee((function(a){return a.map((function(a){return a.id===e.val().id?e.val():a}))}))})),a.ref("words").on("child_added",(function(e){k((function(a){return[].concat(Object(c.a)(a),[e.val()])}))})),a.ref("words").on("child_removed",(function(e){k((function(a){return a.filter((function(a){return parseInt(a.id)!==parseInt(e.val().id)}))}))})),a.ref("words").on("child_changed",(function(e){k((function(a){return a.map((function(a){return a.id===e.val().id?e.val():a}))}))})),a.ref("users/user-".concat(Y.id)).on("value",(function(e){z(e.val())})),a.ref("users/user-".concat(Y.id)).set(Y),a.ref("users/user-".concat(Y.id)).onDisconnect().remove(),function(){a.ref("users").off(),a.ref("GAME_STATE").off(),a.ref("hasWon").off(),a.ref("isSpymasterTyping").off(),a.ref("RED_TEAM_REMAINING_CARDS").off(),a.ref("BLUE_TEAM_REMAINING_CARDS").off(),a.ref("currentRound").off(),a.ref("clues").off(),a.ref("words").off(),a.ref("users/user-".concat(Y.id)).off()}}),[q,n,B,N,ee,k,z,p]),Object(x.jsx)(b.a,{children:Object(x.jsxs)(v.c,{children:[Object(x.jsx)(v.a,{path:"/game",children:Object(x.jsx)(le,{users:X,GAME_STATE:i,hasWon:w,currentRound:I,currentUser:Y,clues:$,isSpymasterTyping:D,words:y,redTeamRemainingCards:M,blueTeamRemainingCards:J,updateCurrentUserInDB:ne,updateGameStateInDB:function(e){a.ref("GAME_STATE").set(e)},updateCurrentRoundInDB:function(e){a.ref("currentRound").set(e)},updateIsSpymasterTypingInDB:ie,addClueToDB:function(e){e.id=Object(m.a)(),a.ref("clues/clue-".concat(e.id)).set(e)},updateWordInDB:function(e){a.ref("words/word-".concat(e.id)).set(e)},updateRedTeamRemainingCards:ce,updateBlueTeamRemainingCards:oe,updateClueInDB:de,updateHasWonInDB:se})}),Object(x.jsx)(v.a,{path:"/join",children:Object(x.jsx)(C,{currentUser:Y,updateCurrentUserInDB:ne})}),Object(x.jsx)(v.a,{path:"/",children:Object(x.jsx)(g,{})})]})})},ie=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,172)).then((function(a){var t=a.getCLS,r=a.getFID,l=a.getFCP,s=a.getLCP,i=a.getTTFB;t(e),r(e),l(e),s(e),i(e)}))};u.a.initializeApp({apiKey:"AIzaSyBjVErKan8xlnFt_OvnwvErvk4KLTlYWXY",authDomain:"codenames-replica.firebaseapp.com",databaseURL:"https://codenames-replica-default-rtdb.firebaseio.com",projectId:"codenames-replica",storageBucket:"codenames-replica.appspot.com",messagingSenderId:"289395728473",appId:"1:289395728473:web:d8d9182563268fad5f9148"}),i.a.render(Object(x.jsx)(l.a.Fragment,{children:Object(x.jsx)(se,{})}),document.getElementById("root")),ie()},91:function(e,a,t){},93:function(e,a,t){},98:function(e,a,t){}},[[113,1,2]]]);
//# sourceMappingURL=main.48f26f1e.chunk.js.map